{"ast":null,"code":"import { AbiDecodingZeroDataError } from '../../errors/abi.js';\nimport { BaseError } from '../../errors/base.js';\nimport { ContractFunctionExecutionError, ContractFunctionRevertedError, ContractFunctionZeroDataError, RawContractError } from '../../errors/contract.js';\nconst EXECUTION_REVERTED_ERROR_CODE = 3;\nexport function getContractError(err, {\n  abi,\n  address,\n  args,\n  docsPath,\n  functionName,\n  sender\n}) {\n  const {\n    code,\n    data,\n    message,\n    shortMessage\n  } = err instanceof RawContractError ? err : err instanceof BaseError ? err.walk(err => 'data' in err) || err.walk() : {};\n  let cause = err;\n  if (err instanceof AbiDecodingZeroDataError) {\n    cause = new ContractFunctionZeroDataError({\n      functionName\n    });\n  } else if (code === EXECUTION_REVERTED_ERROR_CODE && (data || message || shortMessage)) {\n    cause = new ContractFunctionRevertedError({\n      abi,\n      data: typeof data === 'object' ? data.data : data,\n      functionName,\n      message: shortMessage ?? message\n    });\n  }\n  return new ContractFunctionExecutionError(cause, {\n    abi,\n    args,\n    contractAddress: address,\n    docsPath,\n    functionName,\n    sender\n  });\n}","map":{"version":3,"names":["AbiDecodingZeroDataError","BaseError","ContractFunctionExecutionError","ContractFunctionRevertedError","ContractFunctionZeroDataError","RawContractError","EXECUTION_REVERTED_ERROR_CODE","getContractError","err","abi","address","args","docsPath","functionName","sender","code","data","message","shortMessage","walk","cause","contractAddress"],"sources":["C:\\Users\\irakl\\OneDrive\\Desktop\\wallet-connect\\node_modules\\viem\\src\\utils\\errors\\getContractError.ts"],"sourcesContent":["import type { Abi, Address } from 'abitype'\n\nimport { AbiDecodingZeroDataError } from '../../errors/abi.js'\nimport { BaseError } from '../../errors/base.js'\nimport {\n  ContractFunctionExecutionError,\n  ContractFunctionRevertedError,\n  ContractFunctionZeroDataError,\n  RawContractError,\n} from '../../errors/contract.js'\n\nconst EXECUTION_REVERTED_ERROR_CODE = 3\n\nexport function getContractError(\n  err: BaseError,\n  {\n    abi,\n    address,\n    args,\n    docsPath,\n    functionName,\n    sender,\n  }: {\n    abi: Abi\n    args: any\n    address?: Address\n    docsPath?: string\n    functionName: string\n    sender?: Address\n  },\n) {\n  const { code, data, message, shortMessage } = (\n    err instanceof RawContractError\n      ? err\n      : err instanceof BaseError\n      ? err.walk((err) => 'data' in (err as Error)) || err.walk()\n      : {}\n  ) as RawContractError\n\n  let cause = err\n  if (err instanceof AbiDecodingZeroDataError) {\n    cause = new ContractFunctionZeroDataError({ functionName })\n  } else if (\n    code === EXECUTION_REVERTED_ERROR_CODE &&\n    (data || message || shortMessage)\n  ) {\n    cause = new ContractFunctionRevertedError({\n      abi,\n      data: typeof data === 'object' ? data.data : data,\n      functionName,\n      message: shortMessage ?? message,\n    })\n  }\n\n  return new ContractFunctionExecutionError(cause, {\n    abi,\n    args,\n    contractAddress: address,\n    docsPath,\n    functionName,\n    sender,\n  })\n}\n"],"mappings":"AAEA,SAASA,wBAAwB,QAAQ,qBAAqB;AAC9D,SAASC,SAAS,QAAQ,sBAAsB;AAChD,SACEC,8BAA8B,EAC9BC,6BAA6B,EAC7BC,6BAA6B,EAC7BC,gBAAgB,QACX,0BAA0B;AAEjC,MAAMC,6BAA6B,GAAG,CAAC;AAEvC,OAAM,SAAUC,gBAAgBA,CAC9BC,GAAc,EACd;EACEC,GAAG;EACHC,OAAO;EACPC,IAAI;EACJC,QAAQ;EACRC,YAAY;EACZC;AAAM,CAQP;EAED,MAAM;IAAEC,IAAI;IAAEC,IAAI;IAAEC,OAAO;IAAEC;EAAY,CAAE,GACzCV,GAAG,YAAYH,gBAAgB,GAC3BG,GAAG,GACHA,GAAG,YAAYP,SAAS,GACxBO,GAAG,CAACW,IAAI,CAAEX,GAAG,IAAK,MAAM,IAAKA,GAAa,CAAC,IAAIA,GAAG,CAACW,IAAI,EAAE,GACzD,EACe;EAErB,IAAIC,KAAK,GAAGZ,GAAG;EACf,IAAIA,GAAG,YAAYR,wBAAwB,EAAE;IAC3CoB,KAAK,GAAG,IAAIhB,6BAA6B,CAAC;MAAES;IAAY,CAAE,CAAC;GAC5D,MAAM,IACLE,IAAI,KAAKT,6BAA6B,KACrCU,IAAI,IAAIC,OAAO,IAAIC,YAAY,CAAC,EACjC;IACAE,KAAK,GAAG,IAAIjB,6BAA6B,CAAC;MACxCM,GAAG;MACHO,IAAI,EAAE,OAAOA,IAAI,KAAK,QAAQ,GAAGA,IAAI,CAACA,IAAI,GAAGA,IAAI;MACjDH,YAAY;MACZI,OAAO,EAAEC,YAAY,IAAID;KAC1B,CAAC;;EAGJ,OAAO,IAAIf,8BAA8B,CAACkB,KAAK,EAAE;IAC/CX,GAAG;IACHE,IAAI;IACJU,eAAe,EAAEX,OAAO;IACxBE,QAAQ;IACRC,YAAY;IACZC;GACD,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}